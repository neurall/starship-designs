<!DOCTYPE html>
<html>
<head>
    <title>LinkedIn Login</title>
</head>
<body>
    <button id="linkedinLogin">Sign In with LinkedIn</button>

    <script>
        document.getElementById('linkedinLogin').addEventListener('click', function() {
            var clientId = '86kgovwhryi6n4';
            var redirectUri = 'https://starship-designs.com';
            var linkedInUrl = `https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&scope=r_liteprofile%20r_emailaddress`;

            // Redirect to LinkedIn for authentication
            window.location.href = linkedInUrl;
        });

        // Function to handle the redirection after authentication
        function handleRedirect() {
            var code = new URLSearchParams(window.location.search).get('code');
            if (code) {
                // Exchange code for access token
                fetch('YOUR_SERVER_ENDPOINT', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ code: code })
                })
                .then(response => response.json())
                .then(data => {
                    // Use the access token to get user's education
                    console.log(data); // Display user's education
                })
                .catch(error => console.error('Error:', error));
            }
        }

        // Call handleRedirect if there's a code in URL
        if (window.location.search.includes('code=')) {
            handleRedirect();
        }
    </script>
</body>
</html>
